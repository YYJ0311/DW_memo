## 1교시
- JOIN : 두 개 이상의 테이블을 조회할 때
- JOIN 방법 2가지  
1) where 절로 사용
2) join + on  

회사가 사용하는 방법에 맞춰야 함  
보통 기능이 다른건 분리해서 적는 2번 방법이 최적

mysql에서 쓰지 않는 기능들은 회사에서도 거의 쓰지 않는다.

- limit  <== 많이 사용!  
출력되는 결과 행의 수를 제한  
mysql에서 limit은 oder by 뒤에 온다(맨 뒤)  
```sql
select 
*
from emp
limit 0,10
```
- join의 종류  
1. INNER JOIN(내부 조인, 조인)  
2. OUTER JOIN(외부 조인)  
: 1개 테이블에만 데이터가 있어도 조회  
3. SELF JOIN(자체 조인)  
: 자신이 자신과 조인, 1개 테이블을 사용  

- OUTER JOIN의 종류
1. LEFT OUTER JOIN  
: 왼쪽 테이블의 모든 값을 출력
2. RIGHT OUTER JOIN  
: 오른쪽 테이블의 모든 값을 출력
3. FULL OUTER JOIN  
: 왼쪽 또는 오른쪽 테이블의 모든 값을 출력  
MySQL에서 지원하지 않음

```sql
select
from ~
left or right (outer) join ~ <== outer는 디폴트
on ~
where ~
```

Ex) 쇼핑몰에서 회원가입은 했는데 구매하지 않은 회원들을 대상으로 이벤트할 때 사용함 (회원가입 테이블과 구매 테이블 비교)  

```sql
Q. 사원 테이블에서 40번 부서 OPERATIONS 도 조회
select
*
from emp as e 
right join dept as d 
on e.DEPTNO = d.DEPTNO 
```

```sql 
Q. 부서번호가 없는 사원 출력 
select
*
from emp as e
left outer join dept as d 
on e.DEPTNO = d.DEPTNO 
where e.DEPTNO is null 
```
## 2교시
### SELF JOIN
별도의 문법은 X  
동일 테이블을 INNER JOIN으로 조인  
관리자 아래에 있는 사람들을 조회할 때 사용  
```sql
Q. 사원들의 사수 이름과 번호를 조회
select
sawon.EMPNO as "사원 번호",
sawon.ENAME as "사원 이름",
boss.EMPNO as "사수 번호",
boss.ENAME as "사수 이름"
from emp as sawon
inner join emp as boss
on sawon.mgr = boss.EMPNO 
```
```sql
Q. 사원들의 후임 이름과 번호를 조회
select 
boss.EMPNO as "사수 번호",
boss.ENAME as "사수 이름",
sawon.EMPNO as '사원 번호',
sawon.ENAME as '사원 이름'
from emp as boss
inner join emp as sawon 
on boss.EMPNO = sawon.MGR
=====> 위와 반대로 조회하면 됨
```
### 다중 조인
JOIN과 ON을 여러개 사용  
위에 있는 조인부터 차례대로 실행됨  
```sql
select
*
from emp as e
inner join dept as d
on e.DEPTNO = d.DEPTNO 
inner join emp as boss 
on e.MGR = boss.EMPNO 
```
## 3, 4교시
문제풀이  

### 서브쿼리  
하나의 쿼리 문장 내에 포함된 또 하나의 쿼리 
마지막 수단으로 사용함  
- 규칙  
1. 반드시 () 괄호로 묶음  
select  
 (select ...)
 from A table
2. 서브쿼리가 먼저!! 실행된 후 외부쿼리와 비교/연산
3. 서브쿼리가 가능한 곳  
 3-1. select 절(스칼라 서브쿼리)  
 3-2. **from 절 (인라인 뷰)  
 3-3. where 절 (중첩 서브쿼리)  
 3-4. having  
 3-5. order by  
 3-6. insert values  
 3-7. update set (MYSQL에서 실행X) 
4. 서브쿼리 종류  
단일 서브쿼리, 다중행 서브쿼리  

다중행 서브쿼리<== 간단하게,  
delete,  
모델링 (table create 하는 작업) <==spring 시간에 PK, FK 작업을 여기서 함,  
테이블의 데이터타입 <== 자바 시간  

```sql
부서번호가 10번이고 평균 급여보다 많은 사원 모두 조회
select 
*
from emp
where DEPTNO = 10
and SAL > (select avg(SAL) from emp);
```
```sql
사원번호가 7876인 사원과 job이 같은 사람 모두 조회  
select 
*
from emp
where job = (
select job from emp where empno = 7876
)
```
서브쿼리 결과값이 하나만 나오는 것이 단일 서브쿼리, 결과값이 여러개 나오는 것이 다중행 서브쿼리  
서브쿼리를 어떻게 작성할까 먼저 생각한 후 나머지 코딩하는게 쉽다  
 ## 5, 6교시
join 복습
 ## 7교시 

내일 2교시 SQL 시험
지금까지 푼 10문제
