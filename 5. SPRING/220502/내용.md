```
하나의 앱과 웹을 만들 수 있음

Spring 배우는 이유
    js스크립트 -> 노드js
    python -> flask, 장고
    c -> asp
    자바 -> 스프링

    asp와 스프링이 가장 오래 됨
    초반에 스프링의 성능이 우세했음
    => 자연스럽게 스프링을 많이 사용하게 되었고 레퍼런스가 많이 쌓이게 됨 => 검증완료 => 기업에서 꾸준히 사용하게 됨

    - Spring은 검증된 툴이다
        => 회사, 교육기관에서 스프링을 베이스로 사용하고 스프링을 사용하는 개발자를 원함(수요가 많음)
        검증의 의미
            회원 수 100만 : 부드럽고 오작동 없이 구동 가능
            => 100만까지 커버할 수 있다.
    
Spring이란?
    JAVA로 다양한 어플리케이션(웹 or 앱)을 만들기 위한 *틀(프레임워크)
    프레임워크는 플랫폼이라고 생각하면 된다.

Spring 종류
    1. spring 레거시 (일반 spring)
    2. spring boot (경량 spring)
    3. spring 전자정부프레임워크 (egov)

    1번과 3번이 매우 비슷
    요새 3번에서 2번으로 바꿔서 사용하려고 함

*** Spring과 같이 사용하는 친구들
    Spring만으로 어플리케이션을 개발하는데 한계가 있다
        데이터베이스, 고객에게 보여줄 화면이 필요함

    1. 데이터베이스 연결과 데이터 생성, 호출, 삭제, 수정을 도와주는 *ORM
        MyBatis(수업에서 이거 사용), JPA
            (MyBatis 먼저 공부한 뒤 필요하면 JPA 공부)

    2. 필요한 기능을 쉽게 다운로드받을 수 있고, 서버에 업로드(배포)를 도와주는 *빌드관리도구(Build Tool)
        Gradle(이거 사용), Maven
            (안드로이드에서 Gradle을 사용하기 때문에 통합해서 배움)

    3. 화면을 도와주는 *템플릿 엔진
        JSP, Thymeleaf(우선은 이거 사용)

        원래는 백엔드가 모두 했는데 요새 트렌드가 백엔드와 프론트로 정확히 구분짓고 있다. 템플릿 엔진은 백엔드 쪽이어서 만약 프론트 업무가 딱 나누어진 회사에 가면 사용하지 않을 것임. 대신 프론트개발자가 화면관리를 위해 뷰나 리액트를 사용한다.

    4. 속성(데이터베이스 주소, 아이디, 비번) 정의를 담당하는 속성 파일
        yaml(이거 사용), properties

    5. 서버를 담당하는 Tomcat(이거 사용)

    6. 그 외(선택사항 optional)
        Docker, GraphQL
```

```
1. 구글에 sts 검색
2. Spring 설치 (https://spring.io/tools) (이클립스용 4.14.1 - WINDOWS X86_64 설치)
3. https://start.spring.io/ 북마크
    여기서 설정하고 설치된 파일과 연동해서 사용
4. 압출풀고 안에 있는 것도 압축 푼 뒤, content 폴더 안에 있는 SpringToolSuite4.exe 파일 실행
5. c - workspaces 폴더에 spring-workspaces 새폴더 만들고 그 위치에 spring 설치
```

```
이클립스 or sts (IDE) 설정
1. 한글 설정
    프로그램 내부 window - preferences - 좌측 상단 검색창에 encoding 검색 - general의 workspace 선택 - text file encoding에서 other 선택 - UTF-8 선택하고 apply and close
2. 글자 크기 설정
    프로그램 내부 window - preferences - Appearance - colors and fonts - basic - text font - edit
```

```
https://start.spring.io/ 설정
    gradle project
    JAVA
    2.6.7(버전)
    Artifact에 first_spring 입력
    Java 버전 11 선택(우리는 지금 12버전 사용중인데 이것보다 높은 버전은 사용 불가능. 낮은 걸로 선택한다.)
    Dependencies add 클릭 - spring web 추가
    generate 누르면 zip 파일 다운로드 됨

    zip 파일을 spring-workspace 폴더에 넣고 마우스 오른쪽 클릭 - 여기에 압축풀기 실행
```
![](spring%EC%84%A4%EC%A0%95.png)

```
sts와 설정 연동
    import projects 클릭
    gradle 폴더 클릭
    코끼리 누르고 쭉 next
    아까 설정한 파일 경로 선택하고 finish
```

```
이클립스에서 spring 사용하기
    spring-workspace 폴더의 .metadata 삭제(이클립스와 sts 끄고 삭제해야 함)
    file - switch workspace - other
    경로에 C:\spring-workspace 입력하고 런치하면 이클립스 재시작

    1. 이클립스에서 한글 설정
    2. import projects - 경로 first_spring 폴더 선택하고 finish
```

```
암묵적 약속 ) 스프링은 패키지가 3개부터 시작한다.

src/main/java에 dw 패키지 생성 - dw.yyj 패키지 생성 - dw.yyj.study 패키지 생성 => 새로고침하면 dw.yyj.study 패키지 하나만 남음
    dw.yyj.study와 com.example.first_spring는 모두 3개의 패키지를 갖고 있음

.을 기준으로 패키지가 나뉨
인터넷 주소를 www.naver.com 처럼 쓰는 것과 비슷한 의미

첫번째 패키지 : com, io, kr 등
두번쨰 패키지 : 회사이름
세번째 패키지 : 프로젝트명
    ex) com.dw.board
    ex) com.naver.프로젝트명

controller
    url 요청 받는 곳. www.naver.com을 입력해서 접속할 때 응답을 해주는 부분

1. com.example.first_spring.controller 패키지 생성
2. 그 아래에 MainController 클래스 생성
3. 클래스에 @RestController 입력하고 import (ctrl+shift+o)
    http : html을 전송해주는 하나의 규칙
    GET : 요청, 조회
    POST : insert
4. GetMapping을 이용해서 url 조건과 코드 입력
5. main 함수가 있었던 FirstSpringApplication 파일가서 실행(ctrl+f11)
6. 인터넷 주소창에 아이피:포트번호/조건 입력
    내아이피 http://192.168.0.240:8080/index
    또는 http://localhost:8080/index
```
```java
package com.example.first_spring;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class FirstSpringApplication {

	public static void main(String[] args) {
		SpringApplication.run(FirstSpringApplication.class, args);
	}
}
```
```java
package com.example.first_spring.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
// 아직 템플릿엔진을 사용하지 않아서 Rest를 붙여줌(Rest API를 의미)
// 템플릿엔진을 사용할 거면 @Controller, 안 쓰면 @RestController 로 사용한다.
// url을 요청받는 곳이야~ 라고 컴퓨터가 인식함
public class MainController {
	@GetMapping("/index")
	// "/"라는 url이 들어오면 아래 메소드를 실행할게!
	public String call() {
		String word = "유영준 Hello World!";
		return word;
	}
	@GetMapping("/sum")
	public int callSum() {
		int x = 10;
		int y = 20;
		return x+y;
	}
}
```
```
이전까진 우리가 java로 만들기만 했다면 이제 ip를 이용해서 다른 사람에게 보여줄 수 있다.
메인함수를 실행하는 순간 우리 컴퓨터가 서버가 됨
만약 수정하고 새로 실행하려면 terminate 버튼을 눌러서 중지시킨 후 실행해야 한다.
```
```
로직이 변경될 때마다 서버가 restart되게 만드는 기능
    1. devtools gradle 검색
        https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html 
    2. Gradle compileOnly 한 줄만 복사
        compileOnly("org.springframework.boot:spring-boot-devtools")
    3. 이클립스에서 build.gradle 더블클릭하고 dependencies에 붙여넣고 주석 붙이기
    4. build.gradle 오른쪽 마우스 클릭하고 gradle - refresh gradle project
    5. 이후 수정하고 ctrl + f11 누르면 서버를 중지시킬 필요없이 새로 시작할 수 있다.
```
```
main에서 new로 호출하지 않아도 @(어노테이션) 쓴 메소드를 자동으로 읽어들인다.
```
```
vo패키지 생성 (com.example.first_spring.vo)
UserVO 클래스 생성
스프링에서는 getter, setter를 @을 이용해서 대체할 수 있다.

구글 spring lombok gradle 검색
(https://projectlombok.org/setup/gradle)
dependencies의 4줄 복사 후 gradle에 넣고 refresh

그리고 VO 클래스파일에서 @Getter와 @Setter 입력한 뒤 import해서 사용하면 된다.(@Data 하나만 import해도 사용 가능. Data 안에 Getter와 Setter가 들어있다.)
```

```
이클립스에서 lombok을 인식하지 못해서 추가 설치 필요
    help - install new software - add - name에 lombok, 주소에 https://projectlombok.org/p2 입력 - lombok 체크하고 next - 동의하고 - finish - 오른쪽 아래 경과 표시됨 - 도중에 뜨는 창에서 체크하고 trust - restart 하고 나면 이제 사용 가능!

help로 install이 되지 않아서 다른 방법으로 이클립스와 lombok 연동하기
    "lombok 이클립스 인식" 구글 검색으로 파일 구함 - 파일 있는 폴더 git bash here로 깃배시 열고 java -jar lombok.jar입력 - 나오는 화면Install/Update - Quit installer - 이클립스 껐다 킴
```

```
@AllArgsConstructor을 이용하면 파라미터가 다른 여러개의 메소드에 대한 생성자를 자동으로 만들어준다!!
    예를들어, UserVO{}에 저걸 만들어주면 UserVO(String name, int age)같은 파라미터를 받는 메소드를 생성자없이 사용할 수 있다.
```

```java
package com.example.first_spring.controller;

import java.util.ArrayList;
import java.util.List;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.first_spring.vo.UserVO;


class ProductVO{
	private String productName;

	public String getProductName() {
		return productName;
	}

	public void setProductName(String productName) {
		this.productName = productName;
	}
}
@RestController
// 아직 템플릿엔진을 사용하지 않아서 Rest를 붙여줌(Rest API를 의미)
// 템플릿엔진을 사용할 거면 @Controller, 안 쓰면 @RestController 로 사용한다.
// url을 요청받는 곳이야~ 라고 컴퓨터가 인식함
public class MainController {
	@GetMapping("/index")
	// "/"라는 url이 들어오면 아래 메소드를 실행할게!
	public String call() {
		String word = "유영준 Hello World!";
		return word;
	}
	@GetMapping("/sum")
	public int callSum() {
		int x = 50;
		int y = 20;
		return x+y;
	}
	@GetMapping("/list")
	public List<ProductVO> getProductList() {
		List<ProductVO> list = new ArrayList<ProductVO>();
		ProductVO vo1 = new ProductVO();
		ProductVO vo2 = new ProductVO();
		ProductVO vo3 = new ProductVO();
		vo1.setProductName("콩나물국밥");
		vo2.setProductName("짬뽕");
		vo3.setProductName("핫크리스피버거");
		list.add(vo1);
		list.add(vo2);
		list.add(vo3);
		for(ProductVO vo : list) {
			System.out.println(vo.getProductName());
		}
		return list;
	}
	@GetMapping("/arr")
	public int[] getArray() {
		int arr[] = {1,2,3};
		return arr;
	}
	@GetMapping("/user")
	public UserVO callUser() {
		// controller에서 함수를 만들 때 call을 사용함(회사마다 다르긴 함)
		UserVO vo = new UserVO("d",30,"대전");
		vo.setName("홍길동");
		vo.setAge(20);
		return vo;
	}
	@GetMapping("/userList")
	public List<UserVO> callUserList(){
		List<UserVO> userList = new ArrayList<UserVO>();
		for(int i=0; i<5; i++) {
			userList.add(new UserVO("홍길동",i,"대전"));
		}
		return userList;
	}
}
```
```java
package com.example.first_spring.vo;

import lombok.AllArgsConstructor;
import lombok.Data;

@Data //자동으로 getter,setter 만들어 줌
@AllArgsConstructor //자동으로 생성자 만들어 줌
// 단 모든 변수를 이용한 생성자만 만들어 준다. 특정 변수만 이용한 생성자는 따로 생성해줘야 함(또는 다른 어노테이션을 이용한다)
public class UserVO {
	private String name;
	private int age;
	private String addr;
}
```