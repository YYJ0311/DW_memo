```
Spring
    - 자바로 애플리케이션을 만드는 걸 도와주는 프레임워크
    - 자바에서 DB에 연결할 때 쓰는 JDBC 대신 더 쉬운 방법으로 DB에 접근할 수 있다.

패키지가 3개인 이유
controller의 의미

GetMapping
    http 메소드 중에 get(요청)을 사용
    결과를 console이 아닌 http로 받음
    스프링 결과를 hyper text로 전송하겠다는 뜻

    * http 검색해보기!

VO 패키지 = DTO(Data Transfer Object) 패키지
    안에 getter, setter 클래스와 메소드만 존재

lombok이나 Data같이 @(어노테이션)을 사용하는 것들을 찾아보자

프로젝트를 만들 때
    spring initializr에서 dependencies에 Spring Web, Lombok, DevTools, MyBatis 추가하고 generate하기

Controller에 코드를 계속 추가하게 되면...
    유지보수가 힘들어진다. => MVC 아키텍처 출현

******
MVC(Model View Controller)
    프로그래밍 로직을 '서로 영향없이 쉽게 고칠 수 있는' 소프트웨어 디자인 패턴

    M : 모델에서 비즈니스 로직, DB 연동 로직 구현
        비즈니스 : service
        DB 연동 : repository
    V : 최종 사용자에게 결과를 화면(UI)으로 보여줌
    C : 요청을 받아서 화면과 Model을 연결시켜주는 역할
******

Spring 3대장 개념
    Ioc(Inversion of Control)
        객체의 생성부터 소멸까지 Spring에서 관리함

    DI(Dependenct Injection)
        Spring이 객체(클래스)가 필요하다면 외부에서 가져다가 주입(대입)하는 방식
        (객체(클래스)를 외부에서 가져다가 쓰기 때문에 new 연산자가 사라짐)

    AOP(Aspect Oriented Programming)
        관점 지향 프로그래밍
        여러 메소드(함수)에서 중복되는 코드가 있다면, 따로 모아서 재활용하는 것.
```
```java
MainController 패키지 

package com.example.first_spring.controller;

import java.util.ArrayList;
import java.util.List;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import com.example.first_spring.service.MainService;
import com.example.first_spring.vo.UserVO;

class ProductVO{
	private String productName;

	public String getProductName() {
		return productName;
	}

	public void setProductName(String productName) {
		this.productName = productName;
	}
}

@RestController
public class MainController {
	
	@Autowired
	private MainService service;
	// @Autowired로 @Service가 붙은 MainService와 연결해줌
	// MainService도 import 필요. MainService를 @Service라고 표시해줬기 때문에 new를 쓰지 않고 불러올 수 있다
	// = IoC(Inversion of Control)이라고 함(제어의 역전) 내가 제어하는 게 아닌 Spring이 제어함
    
    @GetMapping("/userList")
	public List<UserVO> callUserList(){
		return service.getUserList();
		// @Autowired로 연결된 MainService의 service를 바로 사용할 수 있다.
	}
    // Controller는 url 요청받는게 목적임


MainService 패키지

package com.example.first_spring.service;

import java.util.ArrayList;
import java.util.List;
import org.springframework.stereotype.Service;
import com.example.first_spring.vo.UserVO;

@Service
// 실행할 때 이 클래스 파일은 service(비즈니스 로직)라고 인식함
// 로직 구현은 service에서 한다.
public class MainService {
	public List<UserVO> getUserList(){
		List<UserVO> list = new ArrayList<UserVO>();
		list.add(new UserVO("이병헌", 51, "서울"));
		return list;
	}
}
```

## Spring 적응 문제
```java
package com.example.first_spring.vo;

import lombok.AllArgsConstructor;
import lombok.Data;

@Data //자동으로 getter,setter 만들어 줌
@AllArgsConstructor //자동으로 생성자 만들어 줌
// 단 모든 변수를 이용한 생성자만 만들어 준다. 특정 변수만 이용한 생성자는 따로 생성해줘야 함
public class UserVO {
	private String name;
	private int age;
	private String addr;
}
```
```java
package com.example.first_spring.service;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Service;

import com.example.first_spring.vo.UserVO;

@Service
// 실행할 때 이 클래스 파일은 service(비즈니스 로직)라고 인식함
public class MainService {
//	public List<UserVO> getUserList(){
//		List<UserVO> list = new ArrayList<UserVO>();
//		list.add(new UserVO("이병헌", 51, "서울"));
//		return list;
//	}
    //문제 1. 나이가 60 이하인 배우만 리턴하시오.
    public List<UserVO> getUserList(){
		List<UserVO> list = new ArrayList<UserVO>();
		list.add(new UserVO("이병헌",51,"서울"));
        list.add(new UserVO("조승우",42,"서울"));
        list.add(new UserVO("이경영",61,"서울"));
        list.add(new UserVO("배성우",49,"서울"));
        list.add(new UserVO("백윤식",75,"서울"));
        for(int i=0; i<list.size(); i++) {
        	if(list.get(i).getAge() > 60) {
        		list.remove(i);
        		--i; // 이게 핵심!!
        	}
        }
		return list;
	}
    //문제 2. 나이가 가장많은 배우의 나이를 리턴하시오.
    public int getUserAgeMax(){
		List<UserVO> list = new ArrayList<UserVO>();
		list.add(new UserVO("이병헌",51,"서울"));
        list.add(new UserVO("조승우",42,"서울"));
        list.add(new UserVO("이경영",61,"서울"));
        list.add(new UserVO("배성우",49,"서울"));
        list.add(new UserVO("백윤식",75,"서울"));
        int age = 0;
        int count = 0;
        int save = 0;
        for(UserVO vo : list) {
        	if(vo.getAge()>age) {
        		age = vo.getAge();
        		save = count;
        	}
        	count++;
        }
		return list.get(save).getAge();
	}
    //문제 3. list에 배우이름 배성우가 있다면 리턴하시오.
    public UserVO getUser(){
		List<UserVO> list = new ArrayList<UserVO>();
		list.add(new UserVO("이병헌",51,"서울"));
        list.add(new UserVO("조승우",42,"서울"));
        list.add(new UserVO("이경영",61,"서울"));
        list.add(new UserVO("배성우",49,"서울"));
        list.add(new UserVO("백윤식",75,"서울"));
        for(UserVO vo : list) {
        	if(vo.getName().equals("배성우")) {
        		return vo;
        	}
        }
		return null;
	}
    //문제 4. list에 성이 이씨인 배우가 몇명인지 리턴하시오.
    public int getUserCount(){
		List<UserVO> list = new ArrayList<UserVO>();
		list.add(new UserVO("이병헌",51,"서울"));
        list.add(new UserVO("조승우",42,"서울"));
        list.add(new UserVO("이경영",61,"서울"));
        list.add(new UserVO("배성우",49,"서울"));
        list.add(new UserVO("백윤식",75,"서울"));
        int count = 0;
        for(UserVO vo : list) {
//        	if(vo.getName().startsWith("이")) {
        	if(vo.getName().substring(0,1).equals("이")) {
        		count++;
        	}
        }
		return count;
	}
}
```
```java
package com.example.first_spring.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.first_spring.service.MainService;
import com.example.first_spring.vo.UserVO;

@RestController
public class ActorController {
	@Autowired
	private MainService service;
	//문제 1. 나이가 60 이하인 배우만 리턴하시오.
	@GetMapping("/actor/list")
	public List<UserVO> getUserList(){
		return service.getUserList();
	}
	//문제 2. 나이가 가장많은 배우의 나이를 리턴하시오.
	@GetMapping("/actor/age")
	public int getUserAgeMax(){
		return service.getUserAgeMax();
	}
	//문제 3. list에 배우이름 배성우가 있다면 리턴하시오.
	@GetMapping("/actor")
	public UserVO getUser(){
		return service.getUser();
	}
	//문제 4. list에 성이 이씨인 배우가 몇명인지 리턴하시오.
	@GetMapping("/actor/count")
	public int getUserCount(){
		return service.getUserCount();
	}
}
```
